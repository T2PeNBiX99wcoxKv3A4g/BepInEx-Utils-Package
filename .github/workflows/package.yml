name: Package

on:
  push:
    branches:
      - master

jobs:
  package:
    name: Package files
    runs-on: ubuntu-latest
    steps:
      - name: checkout repository
        uses: actions/checkout@v4
      
      - name: Download .dll file
        run: wget https://github.com/T2PeNBiX99wcoxKv3A4g/BepinEx-Utils/releases/latest/download/BepInExUtils.dll

      - name: Create Archive
        uses: thedoctor0/zip-release@0.7.6
        with:
          type: 'zip'
          filename: 'BepInExUtilsPackage.zip'
          exclusions: '*.git* /*node_modules/* .editorconfig /*.idea/* .gitignore'
          directory: .

      - name: capture build artifacts
        uses: actions/upload-artifact@v4
        with:
          name: Artifacts
          path: BepInExUtilsPackage.zip